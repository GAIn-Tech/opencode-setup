{
  "id": "model-router-alignment-20260217-v2",
  "timestamp": "2026-02-17T08:12:00Z",
  "summary": "Corrected model-router-x to use exact model IDs from opencode.jsonc and NVIDIA API. Previous commit had wrong IDs.",
  "affected_paths": [
    "packages/opencode-model-router-x/src/policies.json",
    "packages/opencode-model-router-x/src/strategies/fallback-layer-strategy.js",
    "packages/opencode-model-router-x/src/strategies/perspective-switch-strategy.js",
    "packages/opencode-model-router-x/src/strategies/project-start-strategy.js",
    "packages/opencode-model-router-x/src/strategies/token-cost-calculator.js"
  ],
  "validation": {
    "json_parse": "pass",
    "routing_refs": "pass",
    "stale_id_grep": "zero matches"
  },
  "risk_level": "low",
  "details": {
    "models_configured": [
      "openai/gpt-5.3-codex-spark",
      "anthropic/claude-opus-4-6",
      "google/antigravity-gemini-3-pro-high",
      "google/antigravity-gemini-3-flash",
      "opencode/kimi-k2.5-free",
      "nvidia/z-ai/glm5",
      "nvidia/minimaxai/minimax-m2.5"
    ],
    "id_sources": {
      "opencode_jsonc": ["openai/gpt-5.3-codex-spark", "anthropic/claude-opus-4-6", "google/antigravity-gemini-3-pro-high", "google/antigravity-gemini-3-flash", "opencode/kimi-k2.5-free"],
      "nvidia_api": ["nvidia/z-ai/glm5", "nvidia/minimaxai/minimax-m2.5"]
    },
    "tier_mapping": {
      "flagship": ["anthropic/claude-opus-4-6", "openai/gpt-5.3-codex-spark", "google/antigravity-gemini-3-pro-high"],
      "balanced": ["opencode/kimi-k2.5-free"],
      "speed": ["google/antigravity-gemini-3-flash", "nvidia/minimaxai/minimax-m2.5"],
      "fallback": ["nvidia/z-ai/glm5"]
    },
    "provider_detection_fix": "Added google/, opencode/, nvidia/ prefix detection in fallback-layer and perspective-switch strategies",
    "note": "nvidia/minimaxai/minimax-m2.5 forward-looking â€” NVIDIA currently has m2.1 only. GLM-5 and MiniMax M2.5 not yet on OpenCode Zen (issue #13314)"
  }
}
